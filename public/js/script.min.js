"use strict";var addIcon=document.getElementById("create-new-task-link"),inputTask=document.getElementById("create-new-task-input"),unfinishedTasks=document.getElementById("unfinished-tasks-list"),finishedTasks=document.getElementById("finished-tasks-list");function createNewElement(e,i){var t=document.createElement("li");t.setAttribute("class","todo-list-item");var s=document.createElement("a");s.innerHTML=i?(s.className="material icons checkbox",'<i class="material-icons">check_box</i>'):(s.className="material icons checkbox",'<i class="material-icons">check_box_outline_blank</i>');var a=document.createElement("label");a.innerText=e,a.setAttribute("class","unfinished-tasks-list-label");var n=document.createElement("input");n.type="text",n.setAttribute("class","form-control"),n.setAttribute("class","todo-list-input"),n.setAttribute("style","display: none");var l=document.createElement("a");l.className="material-icons edit",l.innerHTML='<i class="material-icons">edit</i>';var c=document.createElement("a");return c.className="material-icons delete",c.innerHTML='<i class="material-icons">delete</i>',t.appendChild(s),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(c),t}function addTask(){if(inputTask.value){var e=createNewElement(inputTask.value,!1);unfinishedTasks.appendChild(e),bindTaskEvents(e,finishTask),inputTask.value=""}save()}function deleteTask(){var e=this.parentNode;e.parentNode.removeChild(e),save()}function editTask(){var e=this,i=this.parentNode,t=i.querySelector("label"),s=i.querySelector("input[type = text]");i.classList.contains("editMode")?(t.innerText=s.value,t.setAttribute("style","display: inline-block"),s.setAttribute("style","display: none"),e.className="material-icons edit",e.innerHTML='<i class="material-icons">edit</i>',save()):(s.value=t.innerText,t.setAttribute("style","display: none"),s.setAttribute("style","display: inline-block"),e.className="material-icons save",e.innerHTML='<i class="material-icons">save</i>'),i.classList.toggle("editMode")}function finishTask(){var e=this.parentNode,i=e.querySelector("a.checkbox");i.className="material icons checkbox",i.innerHTML='<i class="material-icons">check_box</i>',finishedTasks.appendChild(e),bindTaskEvents(e,unfinishTask),save()}function unfinishTask(){var e=this.parentNode,i=e.querySelector("a.checkbox");i.className="material icons checkbox",i.innerHTML='<i class="material-icons">check_box_outline_blank</i>',unfinishedTasks.appendChild(e),bindTaskEvents(e,finishTask),save()}function bindTaskEvents(e,i){var t=e.querySelector("a.checkbox"),s=e.querySelector("a.edit"),a=e.querySelector("a.delete");t.onclick=i,s.onclick=editTask,a.onclick=deleteTask}function save(){for(var e=[],i=0;i<unfinishedTasks.children.length;i++)e.push(unfinishedTasks.children[i].getElementsByTagName("label")[0].innerText);for(var t=[],s=0;s<finishedTasks.children.length;s++)t.push(finishedTasks.children[s].getElementsByTagName("label")[0].innerText);localStorage.removeItem("todo"),localStorage.setItem("todo",JSON.stringify({unfinishedTasks:e,finishedTasks:t}))}function load(){return JSON.parse(localStorage.getItem("todo"))}addIcon.onclick=addTask;for(var data=load(),i=0;i<data.unfinishedTasks.length;i++){var listItem=createNewElement(data.unfinishedTasks[i],!1);unfinishedTasks.appendChild(listItem),console.log(finishedTasks),bindTaskEvents(listItem,finishTask)}for(var _i2=0;_i2<data.finishedTasks.length;_i2++){var _listItem=createNewElement(data.finishedTasks[_i2],!0);finishedTasks.appendChild(_listItem),console.log(unfinishedTasks),bindTaskEvents(_listItem,unfinishTask)}